<#assign generateCandidate = "N">  
<#include "../view/assigns/PositionLength.properties" >
<#include "../view/assigns/mergedassigns.properties" >
<#if (pojo.shortName?length > eL)>
 <#assign generateCandidate = "Y">  
</#if>
<#if generateCandidate == "Y">                       
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<#assign entityName = pojo.shortName>
<#assign componentName = util.lower(entityName)>
<#assign homeName = componentName + "Home">
<#assign listName = componentName + "List">
<#assign masterPageName = entityName?substring(eL) + "List">
<#assign editPageName = entityName?substring(eL) + "Edit">
<#assign menuAttributes = pojo.shortName?substring(0,maE)?upper_case>
<#assign menuAttributesFunction = pojo.shortName?substring(efS,efE)>
<#assign togglePanel="X">
<#assign tabSeq=0>
<#assign documentField="">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="layout/rtemplate.xhtml">
<#-- Generated By view.xhtml.ftl and viewproperty.xhtml.ftl on ${.now} -->
<f:metadata>
  <#assign idName = componentName + util.upper(pojo.identifierProperty.name)>
   <#if c2j.isComponent(pojo.identifierProperty)>
    <#foreach componentProperty in pojo.identifierProperty.value.propertyIterator>
     <#assign cidName = componentName + util.upper(componentProperty.name)>
     <f:viewParam name="${cidName}" value="${'#'}{${homeName}.${idName}.${componentProperty.name}}"/>
    </#foreach>
   <#else>
    <f:viewParam name="${idName}" value="${'#'}{${homeName}.${idName}}"/>
   </#if>
    <f:viewAction action="${'#'}{${homeName}.restrict()}" />

</f:metadata>
                       
<ui:define name="body">
    <h:form id="${componentName}Search" styleClass="edit">
<h:outputStylesheet>
</h:outputStylesheet>
        <#if (componentName?length > eL)>
	<p:toolbar height="26" itemSeparator="grid">
	  <p:toolbarGroup>
              <h:button id="tdone" image="./img/home_24.png"  alt="Cancel" value="Cancel" propagation="end"  rendered="${'#'}{!${homeName}.managed}" outcome="/home.xhtml" />
	  </p:toolbarGroup>
	  <p:toolbarGroup>
              <h:button id="tdoneh" image="./img/home_24.png"  alt="Home" value="Home" propagation="end"  rendered="${'#'}{${homeName}.managed}" outcome="/home.xhtml" />
	  </p:toolbarGroup>
          <#if (menuAttributesFunction?contains("20") || menuAttributesFunction?contains("30")||menuAttributesFunction?contains("40") ) >
	   <p:toolbarGroup>
              <h:inputText value="${'#'}{${homeName}.wizardInput}" size="30" maxsize="200" /> 
              <h:commandButton id="Wizardb" value="Wizard"  action="${'#'}{${homeName}.parseAndPost}" image="/img/Go16.png" />
	   </p:toolbarGroup>
          </#if>
	  <p:toolbarGroup location="right">
              <h:outputText value="${'#'}{customIdentity.username}"/> 
              <h:outputText value="${'#'}{authenticator.currcaldates}"/> 
	  </p:toolbarGroup>
	  <p:toolbarGroup location="right">
		   <h:graphicImage id="Helpt" value="/img/help.gif" styleClass="pic" rendered="${'#'}{messages['${componentName?substring(eL)?cap_first}Help']!='${componentName?substring(eL)?cap_first}Help'}">
             <p:tooltip > <span style="white-space: nowrap"> <h:inputTextarea  cols="70" rows="10" readonly="true"  value="${'#'}{messages['${componentName?substring(eL)?cap_first}Help']}"/></span> </p:tooltip> 
             </h:graphicImage>
	  </p:toolbarGroup>
         <h:messages globalOnly="true" styleClass="message" id="globalMessages"/>
        </#if>
	</p:toolbar>

    
    <p:panel>
     <#foreach property in pojo.allPropertiesIterator>
     <#if (property.name?length > eL)>
       <#if property.name?substring(0,1) == "y" || property.name?substring(0,1) == "z"   >
        <#assign togglePanel="Y">
        <#break>
       </#if>
       <#if property.name?substring(5,7)=="zd" || property.name?substring(5,7)=="zb" || property.name?substring(5,7)=="za"  > 
        <#assign documentField=property.name>
       </#if> 
     </#if>
     </#foreach>
        <h:panelGrid columns="10">
        <f:facet name="header">${entityName?substring(eL)}</f:facet>
<#foreach property in pojo.allPropertiesIterator>
<#if (property.name?length > eL)>
<#if !c2h.isCollection(property) && !c2h.isManyToOne(property)>
 <#if property.name?substring(0,1) == "y" || property.name?substring(0,1) == "z"   >
  <#if togglePanel="Y">
   <#-- below ie FromCols settings are done only once via togglePanel="N" -->
   </h:panelGrid>
   <p:panel header="${'#'}{messages['EditToggle']}" switchType="client" collapsede="true"
     toggleable="true" toggleableHeader="true">
    <h:panelGrid columns="10">
   <#assign togglePanel="N"> 
  </#if>  
 </#if>
  <#include "viewproperty.xhtml.ftl">
</#if>
</#if>
</#foreach>
<#-- below generated by view.xhtml.ftl -->
<#if togglePanel ="N">
   </h:panelGrid>
   </p:panel>
<#else>
   </h:panelGrid>
</#if>
        <div style="clear:both"/>
    </p:panel>
    <div class="actionButtons">      

        <h:button outcome="/${editPageName}.xhtml" 
                    id="edit" 
             <#if menuAttributesFunction?contains("56")>
                    rendered="${'#'}{(customIdentity.hasRole('UH')||customIdentity.hasRole('UQ')||customIdentity.hasRole('IH')||customIdentity.hasRole('IQ') ||customIdentity.hasRole('VH')||customIdentity.hasRole('VQ') || customIdentity.hasRole('VW'))}"
             <#elseif menuAttributes?contains("O")>
                    rendered="false"
             <#else>
                    rendered="${'#'}{(customIdentity.hasRole('UH')||customIdentity.hasRole('SH')||customIdentity.hasRole('UQ')||customIdentity.hasRole('IH')||customIdentity.hasRole('IQ') || (customIdentity.hasRole('VH')||customIdentity.hasRole('VQ') and customIdentity.product =='f' and customIdentity.subProduct =='s') )}"
             </#if>
                 value="Edit" styleClass="buttonMain"> 
          <f:param name="from" value="${entityName}List"/>
          <f:param name="${idName}" value="${'#'}{${homeName}.${idName}}"/>
        </h:button>
           <#if documentField != "" >
            <#if menuAttributesFunction =="1m" || menuAttributesFunction =="1n">
            <h:commandButton id="Download1" value="${'#'}{messages['Download']}" rendered="${'#'}{empty from and _${componentName}.${documentField} !=null}" action="${'#'}{${homeName}.downloadThis(${homeName}.instance.a0xxuobxbxxxxxxxxxxxsid)}"/>
            <#else>
            <h:commandButton id="Download1" value="${'#'}{messages['Download']}" rendered="${'#'}{empty from and _${componentName}.${documentField}.length() >2}" action="${'#'}{${homeName}.downloadThis(${homeName}.instance.a0xxuobxbxxxxxxxxxxxsid)}"/>
            </#if>
           </#if>
    <#if (componentName.name?? && componentName.name?length > eL)>
        <h:button outcome="/${'#'}{empty ${componentName?substring(eL)}From ? '${masterPageName}' : ${componentName?substring(eL)}From}.xhtml"
                    id="done"
                 value="Done"/>
    </#if>
    </div>
<#assign hasAssociations=false>
<#foreach property in pojo.allPropertiesIterator>
 <#if c2h.isManyToOne(property) || c2h.isOneToManyCollection(property)>
  <#assign hasAssociations=true>
 </#if>
</#foreach>

<#if hasAssociations>
<p:panel header="${'#'}{messages['NavigationToggle']}" switchType="server" collapsed="false" rendered="${'#'}{${homeName}.managed}"
     toggleable="true" toggleableHeader="true">
 <div  style="overflow: auto;width: 850px;height: auto; ">

</#if>
<#foreach property in pojo.allPropertiesIterator>
<#if (property.name?length > eL)>
 <#if c2h.isManyToOne(property)>
  <#assign tabSeq=tabSeq+1>
  <#if tabSeq=1>
  <p:tabView switchType="ajax">
  </#if>
  <#assign parentPojo = c2j.getPOJOClass(cfg.getClassMapping(property.value.referencedEntityName))>
  <#assign parentPageName = parentPojo.shortName?substring(eL)>
  <#assign parentName = util.lower(parentPojo.shortName)>

    <p:tab title="Parent ${'#'}{messages['${property.name?substring(eL)?cap_first}']}">
    <div class="association" id="${property.name}Parent">
        
        <h:outputText value="No ${property.name?substring(eL)}" 
                   rendered="${'#'}{${homeName}.instance.${property.name} == null}"/>
        
        <p:dataTable var="${parentName}"  tableStyle="table-layout:auto;"
                   value="${'#'}{${homeName}.instance.${property.name}}" 
                rendered="${'#'}{${homeName}.instance.${property.name} != null}"
              rowClasses="rvgRowOne,rvgRowTwo"
                      id="${property.name}Table">
            <p:column>
                <f:facet name="header">action</f:facet>
                <h:link id="view${parentName}" 
                     value="View" 
                      outcome="/${parentPageName}.xhtml">
                      <#if parentPojo.isComponent(parentPojo.identifierProperty)>
                       <#foreach componentProperty in parentPojo.identifierProperty.value.propertyIterator>
                        <f:param disable="${'#'}{empty ${parentName}.${parentPojo.identifierProperty.name}.${componentProperty.name}}" name="${parentName}${util.upper(componentProperty.name)}" 
                            value="${'#'}{${parentName}.${parentPojo.identifierProperty.name}.${componentProperty.name}}"/>
                       </#foreach>
                      <#else>
                       <f:param disable="${'#'}{empty ${parentName}.${parentPojo.identifierProperty.name}}" name="${parentName}${util.upper(parentPojo.identifierProperty.name)}" 
                           value="${'#'}{${parentName}.${parentPojo.identifierProperty.name}}"/>
                      </#if>
                </h:link>
            </p:column>
         <#foreach parentProperty in parentPojo.allPropertiesIterator>
         <#if (parentProperty.name?length > eL)>
          <#if !c2h.isCollection(parentProperty) && !c2h.isManyToOne(parentProperty)>
           <#if parentPojo.isComponent(parentProperty)>
            <#foreach componentProperty in parentProperty.value.propertyIterator>
             <#if (componentName.name?length > eL)>
             <#if ( ((componentProperty.name?substring(pfS,pfE)!="za") && (componentProperty.name?substring(pfS,pfE)!="zb") && (componentProperty.name?substring(pfS,pfE)!="zd") && (componentProperty.name?substring(pfS,pfE)!="zf") && (componentProperty.name?substring(pfS,pfE)!="zt") && (componentProperty.name?substring(pfS,pfE)!="to")) && ((componentProperty.name?substring(0,1) == "y") || (componentProperty.name?substring(0,1) == "z" )
                   || (componentProperty.name?substring(0,6) == "a0xxuo" ) ) )   >
             <#else>
             <p:column>
                <f:facet name="header">${componentProperty.name?substring(pL)}</f:facet>
                ${'#'}{${parentName}.${parentProperty.name}.${componentProperty.name}}
             </p:column>
             </#if>
            </#if>
            </#foreach>
           <#else>
            <#if ( ((parentProperty.name?substring(pfS,pfE)!="za") && (parentProperty.name?substring(pfS,pfE)!="zb") && (parentProperty.name?substring(pfS,pfE)!="zd") && (parentProperty.name?substring(pfS,pfE)!="zf") && (parentProperty.name?substring(pfS,pfE)!="zt") && (parentProperty.name?substring(pfS,pfE)!="to")) && ((parentProperty.name?substring(0,1) == "y") || (parentProperty.name?substring(0,1) == "z" )
                   || (parentProperty.name?substring(0,6) == "a0xxuo" ) ) )   >
            <#else>
            <p:column>
                <f:facet name="header">${parentProperty.name?substring(pL)}</f:facet>
                ${'#'}{${parentName}.${parentProperty.name}}
            </p:column>
            </#if>
           </#if>
          </#if>
          <#if c2h.isManyToOne(parentProperty)>
           <#assign parentParentPojo = c2j.getPOJOClass(cfg.getClassMapping(parentProperty.value.referencedEntityName))>
           <#if parentParentPojo.isComponent(parentParentPojo.identifierProperty)>
            <#foreach componentProperty in parentParentPojo.identifierProperty.value.propertyIterator>
            <#if (componentName.name?length > eL)>
             <p:column>
	    	    <f:facet name="header">${parentProperty.name?substring(pL)} ${componentProperty.name?substring(pL)}</f:facet>
		    	${'#'}{${parentName}.${parentProperty.name}.${parentParentPojo.identifierProperty.name}.${componentProperty.name}}
             </p:column>
            </#if>
            </#foreach>
           <#else>
            <p:column>
            <#if (parentProperty.name?length > pL && parentParentPojo.identifierProperty.name?length >pL)>
	    	    <f:facet name="header">${parentProperty.name?substring(pL)} ${parentParentPojo.identifierProperty.name?substring(pL)}</f:facet>
		    	${'#'}{${parentName}.${parentProperty.name}.${parentParentPojo.identifierProperty.name}}
            </#if>
            </p:column>
           </#if>
          </#if>
         </#if>
         </#foreach>  
        </p:dataTable>
    </div>
    </p:tab>
 </#if>
 <#if c2h.isOneToManyCollection(property)>
  <#assign tabSeq=tabSeq+1>
  <#if tabSeq=1>
  <p:tabView switchType="ajax">
  </#if>
  <#if property.name?ends_with("ses")>
   <p:tab title="${'#'}{messages['${property.name?substring(eL,property.name.length()-2)?cap_first}']}">
  <#elseif property.name?ends_with("ies")>
   <p:tab title="${'#'}{messages['${property.name?substring(eL,property.name.length()-3)?cap_first}y']}">
  <#else>  
   <p:tab title="${'#'}{messages['${property.name?substring(eL,property.name.length()-1)?cap_first}']}">
  </#if>
   <div class="association" id="${property.name}Children">
        
  <#assign childPojo = c2j.getPOJOClass(property.value.element.associatedClass)>
  <#if (childPojo.shortName?length > eL)>
  <#assign childPageName = childPojo.shortName?substring(eL)>
  <#assign childEditPageName = childPojo.shortName?substring(eL) + "Edit">
  <#assign childName = util.lower(childPojo.shortName)>
  <#assign childHomeName = childName + "Home">
  <h:outputText value="No ${property.name?substring(pL)}" 
                   rendered="${'#'}{empty ${homeName}.${property.name}}"/>
  <p:dataTable value="${'#'}{${homeName}.${property.name}}" 
                       var="${childName}" 
                  rendered="${'#'}{not empty ${homeName}.${property.name}}" 
                rowClasses="rvgRowOne,rvgRowTwo"
                        id="${property.name}Table">
            <p:column>
                <f:facet name="header">action</f:facet>
                <h:link id="select${childName}" 
                     value="Select" 
                      outcome="/${childPageName}.xhtml">
                 <#if childPojo.isComponent(childPojo.identifierProperty)>
                  <#foreach componentProperty in childPojo.identifierProperty.value.propertyIterator>
                    <f:param disable="${'#'}{empty ${childName}.${childPojo.identifierProperty.name}.${componentProperty.name}}" name="${childName}${util.upper(componentProperty.name)}" 
                            value="${'#'}{${childName}.${childPojo.identifierProperty.name}.${componentProperty.name}}"/>
                  </#foreach>
                 <#else>
                    <f:param disable="${'#'}{empty ${childName}.${childPojo.identifierProperty.name}}" name="${childName}${util.upper(childPojo.identifierProperty.name)}" 
                            value="${'#'}{${childName}.${childPojo.identifierProperty.name}}"/>
                 </#if>
                    <f:param name="${childName}From" value="${entityName}"/>
                </h:link>
            </p:column>
  <#foreach childProperty in childPojo.allPropertiesIterator>
  <#if (childProperty.name?length > eL)>
   <#if !c2h.isCollection(childProperty) && !c2h.isManyToOne(childProperty)>
    <#if childPojo.isComponent(childProperty)>
     <#foreach componentProperty in childProperty.value.propertyIterator>
            <#if ( ((componentProperty.name?substring(pfS,pfE)!="za") && (componentProperty.name?substring(pfS,pfE)!="zb") && (componentProperty.name?substring(pfS,pfE)!="zd") && (componentProperty.name?substring(pfS,pfE)!="zf") && (componentProperty.name?substring(pfS,pfE)!="zt") && (componentProperty.name?substring(pfS,pfE)!="to")) && ((componentProperty.name?substring(0,1) == "y") || (componentProperty.name?substring(0,1) == "z" )
                   || (componentProperty.name?substring(0,6) == "a0xxuo" ) ) )   >
            <#else>
            <p:column>
                <f:facet name="header">${componentProperty.name?substring(pL)}</f:facet>
                ${'#'}{${childName}.${childProperty.name}.${componentProperty.name}}
            </p:column>
            </#if>
     </#foreach>
    <#else>
            <#if ( ((childProperty.name?substring(pfS,pfE)!="za") && (childProperty.name?substring(pfS,pfE)!="zb") && (childProperty.name?substring(pfS,pfE)!="zd") && (childProperty.name?substring(pfS,pfE)!="zf") && (childProperty.name?substring(pfS,pfE)!="zt") && (childProperty.name?substring(pfS,pfE)!="to")) && ((childProperty.name?substring(0,1) == "y") || (childProperty.name?substring(0,1) == "z" )
                   || (childProperty.name?substring(0,6) == "a0xxuo" ) ) )   >
            <#else>
            <p:column>
                <f:facet name="header">${childProperty.name?substring(pL)}</f:facet>
                <h:outputText value="${'#'}{${childName}.${childProperty.name}}"/>
            </p:column>
            </#if>
    </#if>
   </#if>
  </#if>
  </#foreach>
  </p:dataTable>
  </#if>

   </div>
    
    <div class="actionButtons">
        <#if (childName?? && childName?length > eL)>
        <#if childName?substring(0,maE)?upper_case?contains("O")>
        <#else>
        <h:button 
               value="Add ${childName?substring(eL)}"
                outcome="/${childEditPageName}.xhtml">
            <f:param disable="${'#'}{empty ${homeName}.instance.${pojo.identifierProperty.name}}" name="${componentName}${util.upper(pojo.identifierProperty.name)}" 
                    value="${'#'}{${homeName}.instance.${pojo.identifierProperty.name}}"/>
            <f:param name="${childName}From" value="${entityName}"/>
        </h:button>
        </#if>
        </#if> 
    </div>        
   </p:tab>
 </#if>
 <#if hasAssociations>
  <#if tabSeq = 6 >
    <#assign tabSeq=0>
    </p:tabView>
  </#if>
 </#if>
</#if>
</#foreach>
<#if hasAssociations>
  <#if (tabSeq != 0) >
    </p:tabView>
  </#if>
</div>        
</p:panel>
</#if> 

 </h:form>

</ui:define>

</ui:composition>
</#if>